version: '3.8'

services:
    linux-devel-rpi3b:
        container_name: linux-devel-rpi3b
        image: ${USER}/linux-devel-rpi3b
        build:
            context: build_context
            dockerfile: Dockerfile
            args:
                USER: "${USER}"
        user: "${USER}"
        stdin_open: true        ## docker run -i
        tty: true               ## docker run -t
        privileged: true
        environment:
          - USER
        volumes:
        ## folders not need to be around
          - ~/.gitconfig:/home/${USER}/.gitconfig
        # - ~/.ssh:/home/${USER}/.ssh
          - ./workspace:/home/$USER/workspace
        ## folder must be around
          - type: bind
            source: ~/.ssh
            target: /home/${USER}/.ssh
          - type: bind
            source: ./build_configs
            target: /home/$USER/configs
